<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body onload ="comenzarCuentaRegresiva()">
    <h2>responde a las preguntas lo mas rapido que puedas <span id="cuentaRegresiva"></span></h2>
    <p>1. cual es la capital de Francia?</p>
    <input type="text" id="respuesta1">

    <p>1. cual es la capital de Francia?</p>
    <input type="text" id="respuesta2">

    <p>1. cual es la capital de Francia?</p>
    <input type="text" id="respuesta3">

    <p>1. cual es la capital de Francia?</p>
    <input type="text" id="respuesta4">

    <p>1. cual es la capital de Francia?</p>
    <input type="text" id="respuesta5">
    <br><br>
    <button onclick="finalizado()">Termine</button>
    <br><br>
    <button onclick="volverAIntentar()">Volver a Intentar</button>

    <audio id="audioFinal">
        <source src="gameover.mp3" type="audio/mpeg">
    </audio>

    <script>
        let tiempoTerminado;
        let intervaloDeTiempo;

        function comenzarCuentaRegresiva(){
            tiempoTerminado = setTimeout (tiempoCumplido, 30000);
            intervaloDeTiempo = setInterval(ticTac, 1000);
            document.getElementById("cuentaRegresiva").textContent=30
        }

        function ticTac(){
            let tiempoRestante = document.getElementById("cuentaRegresiva").textContent;
            tiempoRestante--;
            document.getElementById("cuentaRegresiva").textContent=tiempoRestante;
        }

        function tiempoCumplido(){
            clearInterval(intervaloDeTiempo);
            document.getElementById("cuentaRegresiva").textContent= 0;
            document.getElementById("audioFinal").play();
            alert("Game Over: se acabo el tiempo")
        }

        function finalizado(){
            clearInterval(intervaloDeTiempo);
            clearTimeout(tiempoTerminado);
            let fecha= new Date();
            let respuesta1= document.getElementById("respuesta1").value;
            let respuesta2= document.getElementById("respuesta2").value;
            let respuesta3= document.getElementById("respuesta3").value;
            let respuesta4= document.getElementById("respuesta4").value;
            let respuesta5= document.getElementById("respuesta5").value;
            let mensaje= fecha.toLocaleDateString("es-Es") + "\n"+
            "1. " + respuesta1 + "\n" +
            "2. " + respuesta2 + "\n" +
            "3. " + respuesta3 + "\n" +
            "4. " + respuesta4 + "\n" +
            "5. " + respuesta5 ;

            alert(mensaje);
        }

        function volverAIntentar(){
            location.reload();
        }
    </script>
</body>
</html>